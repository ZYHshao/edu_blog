<script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script> 
<script>
　　let models = [
    "https://unpkg.com/live2d-widget-model-chitose@1.0.5/assets/chitose.model.json",
    "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",
    "https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json",
    "https://unpkg.com/live2d-widget-model-haruto@1.0.5/assets/haruto.model.json",
    "https://unpkg.com/live2d-widget-model-miku@1.0.5/assets/miku.model.json",
    "https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json"
];
let m = models[Math.round(Math.random()*5)];
　　L2Dwidget.init({ 
　　"model": {jsonPath:m,"scale": 1 }, 
　　"display": { "position": "left", "width": 200, "height": 300,"hOffset": 0, "vOffset": -20 }, 
　　"mobile": { "show": true, "scale": 0.5 }, 
　　"react": { "opacityDefault": 0.7, "opacityOnHover": 0.2 } });
</script> 
<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="珲少的技术博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://huishao.cc">
    <meta name="referrer" content="no-referrer">
    <!--SEO-->

<meta name="description" content="珲少的技术博客">



<meta name="keywords" content="珲少">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->


<title>Swift讲解专题十——类与结构体 | 珲少的技术博客</title>


    <link rel="alternate" href="/atom.xml" title="珲少的技术博客" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    





    
</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://7xpw2b.com1.z0.glb.clouddn.com/hexo-sinppet/img/banner.png)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='珲少'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2> 学如逆水行舟 </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://huishao.cc">珲少的技术博客</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>主页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>归档</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Swift讲解专题十——类与结构体">
            
	            Swift讲解专题十——类与结构体
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/Swift语法专题">
            Swift语法专题
        </a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2016/05/16</span>
        </span>
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h2 id="Swift讲解专题十——类与结构体"><a href="#Swift讲解专题十——类与结构体" class="headerlink" title="Swift讲解专题十——类与结构体"></a>Swift讲解专题十——类与结构体</h2><h3 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h3><pre><code>Swift中的类与结构体十分相似，和Objective-C不同的是，Swift中的结构体不仅可以定义属性，也可以像类一样为其定义方法。

Swift中的类与结构体有如下相似点：
</code></pre><p>1.定义属性来存储值。</p>
<p>2.定义函数来提供功能。</p>
<p>3.通过定义下标语法使用下标的方式取值。</p>
<p>4.定义构造方法来对其进行初始化。</p>
<p>5.通过扩展来在原始基础上添加功能。</p>
<p>6.通过协议来定义实现标准。</p>
<p>当然类和结构体也有许多不同点，下面这些功能是类独有的，结构体没有：</p>
<p>1.通过继承来创建类的子类。</p>
<p>2.在运行时允许对类的实例进行类型的检查和解释。</p>
<p>3.析构方法可以释放被类引用的资源。</p>
<p>4.通过引用计数允许一个类实例的多处引用。</p>
<pre><code>当开发者在代码中传递这些实例时，结构体总是被复制，而类则是被引用。这是结构体和类的最本质区别。
</code></pre><h3 id="二、类与结构体的定义"><a href="#二、类与结构体的定义" class="headerlink" title="二、类与结构体的定义"></a>二、类与结构体的定义</h3><pre><code>类与结构体在定义语法上相似，示例代码如下：
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class MyClass &#123;</span><br><span class="line">    var name = &quot;HS&quot;</span><br><span class="line">    var age = 25</span><br><span class="line">&#125;</span><br><span class="line">struct MyStruct &#123;</span><br><span class="line">    var param1:Int</span><br><span class="line">    var param2:String</span><br><span class="line">&#125;</span><br><span class="line">//创建类的实例</span><br><span class="line">var obj1 = MyClass()</span><br><span class="line">//创建结构体的实例 所有结构体会默认生成一个逐个设置属性的构造方法 而类不会</span><br><span class="line">var obj2 = MyStruct(param1: 1,param2: &quot;1&quot;)</span><br><span class="line">//可以通过点语法来获取类或者结构体中的属性值</span><br><span class="line">print(obj1.age,obj2.param1)</span><br></pre></td></tr></table></figure>
<p>通过实例间的传递，可以证明Swift中类被引用于结构体被复制这样的特点，示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//将类实例传递给另一个变量</span><br><span class="line">var obj3 = obj1</span><br><span class="line">//将结构体实例传递给另一个变量</span><br><span class="line">var obj4 = obj2</span><br><span class="line">//修改变量的值</span><br><span class="line">obj3.name = &quot;NewHS&quot;</span><br><span class="line">obj4.param1 = 2</span><br><span class="line">//将 打印 NewHS 1 //说明类是被引用的 结构体则被赋值</span><br><span class="line">print(obj1.name,obj2.param1)</span><br></pre></td></tr></table></figure>
<p>注意：在实例传递时同样采用复制原理的还有枚举类型。</p>
<pre><code>由于类是通过引用来进行传递，Swift中还提供了一种运算符用来比较两个实例变量或常量是否指向同一个引用，示例如下：
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if obj1===obj3&#123;</span><br><span class="line">    print(&quot;same refer&quot;)</span><br><span class="line">&#125;else if obj1 !== obj3 &#123;</span><br><span class="line">    print(&quot;not same refer&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实际上，===与!==运算符比较的是指针内容。</p>
<h3 id="三、类和结构体的选择"><a href="#三、类和结构体的选择" class="headerlink" title="三、类和结构体的选择"></a>三、类和结构体的选择</h3><pre><code>由于类和结构体有着不同的传递机制，因此其也适用于不同的开发任务，下面这些情况下，官方推荐开发者使用结构体来创建数据类型：
</code></pre><p>1.该数据类型封装少量的简单数据值。</p>
<p>2.该类型数据来传递时，应该被复制。</p>
<p>3.该类型中定义的数据类型在传递时也应该被赋值。</p>
<p>4.不需要通过继承另一个数据类型而来。</p>
<p>除了上面列举的一些情况，其它情况下，都推荐开发者使用类来描述数据，这也是开发中最后常用的手段。</p>
<p>扩展：在Swift中，Array，String，Dictionary这些类型都是采用的结构体的方式来实现，并不是采用引用的方式，NSString，NSArray，NSDictionary这些Objective-C的类是采用引用的方式实现的，因此在Swift中，String，Array，Dictionary在传递时总是被赋值。然而官方文档中还有一句话十分有意思：</p>
<blockquote>
<p>The description above refers to the “copying” of strings, arrays, and dictionaries. The behavior you see in your code will always be as if a copy took place. However, Swift only performs an <em>actual</em> copy behind the scenes when it is absolutely necessary to do so. Swift manages all value copying to ensure optimal performance, and you should not avoid assignment to try to preempt this optimization.</p>
</blockquote>
<p>大致意思是，在你的代码中，拷贝行为看起来似乎总会发生。然而，Swift 在幕后只在绝对必要时才执行实际的拷贝。Swift 管理所有的值拷贝以确保性能最优化，所以你没必要去回避赋值来保证性能最优化。</p>
<blockquote>
<p>专注技术，热爱生活，交流技术，也做朋友。</p>
<p>——珲少 QQ群：203317592</p>
</blockquote>

    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © 微信：15137348047
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2016/05/16/211Swift讲解专题十一——属性/" class="pre-post btn btn-default" title='Swift讲解专题十一——属性'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Swift讲解专题十一——属性</span>
        </a>
    
    
        <a href="/2016/05/15/209Swift讲解专题九——枚举/" class="next-post btn btn-default" title='Swift讲解专题九——枚举'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Swift讲解专题九——枚举</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
<div id="lv-container" data-id="city" data-uid="MTAyMC8zNzY0Ny8xNDE3OA==">
  <script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];
         if (typeof LivereTower === 'function') { return; }
         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;
         e.parentNode.insertBefore(j, e);
     })(document, 'script');
  </script>
</div>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Swift讲解专题十——类与结构体"><span class="toc-text">Swift讲解专题十——类与结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、引言"><span class="toc-text">一、引言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、类与结构体的定义"><span class="toc-text">二、类与结构体的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、类和结构体的选择"><span class="toc-text">三、类和结构体的选择</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12"> 
                <span>Copyright &copy; 2018
                </span> | 
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> | 
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>